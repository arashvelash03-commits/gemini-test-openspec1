
> gemini-test-openspec1@0.1.0 dev
> next dev

â–² Next.js 16.1.6 (Turbopack)
- Local:         http://localhost:3000
- Network:       http://192.168.0.2:3000
- Environments: .env.local

âœ“ Starting...
âœ“ Ready in 1115ms
 GET /login 200 in 1233ms (compile: 602ms, render: 631ms)
 GET /api/auth/providers 200 in 5.6s (compile: 5.6s, render: 34ms)
 GET /api/auth/csrf 200 in 46ms (compile: 27ms, render: 19ms)
 POST /api/auth/callback/credentials? 200 in 41ms (compile: 6ms, render: 35ms)
 GET /dashboard 404 in 1677ms (compile: 1546ms, render: 131ms)
 GET /dashboard 404 in 129ms (compile: 8ms, render: 121ms)
 GET /dashboard 404 in 144ms (compile: 34ms, render: 110ms)
âœ“ Compiled in 91ms
 GET /login 200 in 416ms (compile: 143ms, render: 272ms)
 GET /api/auth/providers 200 in 159ms (compile: 145ms, render: 14ms)
 GET /api/auth/csrf 200 in 12ms (compile: 4ms, render: 7ms)
 POST /api/auth/callback/credentials? 200 in 16ms (compile: 3ms, render: 12ms)
 GET / 200 in 110ms (compile: 72ms, render: 38ms)
 GET / 200 in 40ms (compile: 4ms, render: 36ms)
âš  The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
âœ“ Compiled in 676ms
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 743ms (compile: 19ms, proxy.ts: 474ms, render: 250ms)
 GET /api/auth/providers 200 in 164ms (compile: 142ms, render: 22ms)
 GET /api/auth/csrf 200 in 16ms (compile: 3ms, render: 13ms)
 POST /api/auth/callback/credentials? 200 in 34ms (compile: 7ms, render: 26ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
â—‹ Compiling /admin/users ...
 GET /admin/users 200 in 3.8s (compile: 3.7s, proxy.ts: 35ms, render: 79ms)
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 101ms (compile: 9ms, proxy.ts: 29ms, render: 63ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 297ms (compile: 88ms, proxy.ts: 35ms, render: 174ms)
 GET /api/auth/providers 200 in 81ms (compile: 44ms, render: 37ms)
 GET /api/auth/csrf 200 in 12ms (compile: 6ms, render: 6ms)
 POST /api/auth/callback/credentials? 200 in 262ms (compile: 3ms, render: 259ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 1498ms (compile: 1382ms, proxy.ts: 48ms, render: 69ms)
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 119ms (compile: 9ms, proxy.ts: 63ms, render: 47ms)
 POST /api/trpc/totp.generateTotpSecret,totp.generateTotpSecret?batch=1 400 in 151ms (compile: 107ms, render: 44ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 161ms (compile: 16ms, proxy.ts: 15ms, render: 129ms)
 GET /api/auth/providers 200 in 48ms (compile: 40ms, render: 8ms)
 GET /api/auth/csrf 200 in 9ms (compile: 4ms, render: 5ms)
Error [CallbackRouteError]: Read more at https://errors.authjs.dev#callbackrouteerror
    at ignore-listed frames {
  type: 'CallbackRouteError',
  kind: 'error',
  [cause]: [Object]
}
(node:25903) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
 POST /api/auth/callback/credentials? 200 in 299ms (compile: 3ms, render: 296ms)
âœ“ Compiled in 69ms
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 850ms (compile: 312ms, proxy.ts: 26ms, render: 512ms)
 GET /api/auth/providers 200 in 354ms (compile: 329ms, render: 25ms)
 GET /api/auth/csrf 200 in 12ms (compile: 6ms, render: 6ms)
 POST /api/auth/callback/credentials? 200 in 25ms (compile: 3ms, render: 22ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 85ms (compile: 24ms, proxy.ts: 20ms, render: 41ms)
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 63ms (compile: 4ms, proxy.ts: 20ms, render: 38ms)
 GET /api/trpc/admin.getUsers?batch=1&input=%7B%7D 200 in 412ms (compile: 392ms, render: 20ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 142ms (compile: 6ms, proxy.ts: 9ms, render: 127ms)
 GET /api/auth/providers 200 in 50ms (compile: 43ms, render: 7ms)
 GET /api/auth/csrf 200 in 13ms (compile: 3ms, render: 9ms)
 POST /api/auth/callback/credentials? 200 in 13ms (compile: 3ms, render: 10ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 92ms (compile: 6ms, proxy.ts: 14ms, render: 71ms)
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 61ms (compile: 4ms, proxy.ts: 22ms, render: 35ms)
 POST /api/trpc/totp.generateTotpSecret,totp.generateTotpSecret?batch=1 400 in 82ms (compile: 42ms, render: 39ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 99ms (compile: 5ms, proxy.ts: 7ms, render: 87ms)
 GET /api/auth/providers 200 in 55ms (compile: 46ms, render: 9ms)
 GET /api/auth/csrf 200 in 10ms (compile: 4ms, render: 6ms)
Error [InvalidTotpError]: Read more at https://errors.authjs.dev#credentialssignin
    at Object.authorize (src/lib/auth.ts:82:40)
  80 |                    if (!totpCode) throw new TotpRequiredError();
  81 |                    const isValid = authenticator.check(totpCode, mockUser.totpSecret!);
> 82 |                    if (!isValid) throw new InvalidTotpError();
     |                                        ^
  83 |                 }
  84 |                 return {
  85 |                    id: mockUser.id, {
  type: 'CredentialsSignin',
  kind: 'signIn',
  code: 'INVALID_TOTP'
}
 POST /api/auth/callback/credentials? 200 in 249ms (compile: 4ms, render: 245ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 685ms (compile: 280ms, proxy.ts: 9ms, render: 395ms)
 GET /api/auth/providers 200 in 50ms (compile: 41ms, render: 8ms)
 GET /api/auth/csrf 200 in 10ms (compile: 4ms, render: 6ms)
 POST /api/auth/callback/credentials? 200 in 15ms (compile: 3ms, render: 12ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 48ms (compile: 5ms, proxy.ts: 17ms, render: 27ms)
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 74ms (compile: 4ms, proxy.ts: 21ms, render: 48ms)
 GET /api/trpc/admin.getUsers?batch=1&input=%7B%7D 404 in 61ms (compile: 40ms, render: 21ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 111ms (compile: 4ms, proxy.ts: 7ms, render: 100ms)
 GET /api/auth/providers 200 in 50ms (compile: 41ms, render: 8ms)
 GET /api/auth/csrf 200 in 10ms (compile: 3ms, render: 7ms)
 POST /api/auth/callback/credentials? 200 in 16ms (compile: 3ms, render: 13ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 63ms (compile: 5ms, proxy.ts: 13ms, render: 46ms)
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 76ms (compile: 4ms, proxy.ts: 21ms, render: 51ms)
 POST /api/trpc/totp.generateTotpSecret,totp.generateTotpSecret?batch=1 400 in 59ms (compile: 38ms, render: 21ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 106ms (compile: 4ms, proxy.ts: 7ms, render: 95ms)
 GET /api/auth/providers 200 in 55ms (compile: 45ms, render: 11ms)
 GET /api/auth/csrf 200 in 9ms (compile: 4ms, render: 5ms)
Error [InvalidTotpError]: Read more at https://errors.authjs.dev#credentialssignin
    at Object.authorize (src/lib/auth.ts:82:40)
  80 |                    if (!totpCode) throw new TotpRequiredError();
  81 |                    const isValid = authenticator.check(totpCode, mockUser.totpSecret!);
> 82 |                    if (!isValid) throw new InvalidTotpError();
     |                                        ^
  83 |                 }
  84 |                 return {
  85 |                    id: mockUser.id, {
  type: 'CredentialsSignin',
  kind: 'signIn',
  code: 'INVALID_TOTP'
}
 POST /api/auth/callback/credentials? 200 in 176ms (compile: 3ms, render: 174ms)
âœ“ Compiled in 71ms
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 599ms (compile: 208ms, proxy.ts: 9ms, render: 382ms)
 GET /api/auth/providers 200 in 258ms (compile: 229ms, render: 30ms)
 GET /api/auth/csrf 200 in 12ms (compile: 4ms, render: 8ms)
 POST /api/auth/callback/credentials? 200 in 21ms (compile: 3ms, render: 18ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 71ms (compile: 10ms, proxy.ts: 17ms, render: 45ms)
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 57ms (compile: 5ms, proxy.ts: 17ms, render: 35ms)
 GET /api/trpc/admin.getUsers?batch=1&input=%7B%7D 200 in 291ms (compile: 258ms, render: 33ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 129ms (compile: 7ms, proxy.ts: 11ms, render: 111ms)
 GET /api/auth/providers 200 in 53ms (compile: 46ms, render: 7ms)
 GET /api/auth/csrf 200 in 12ms (compile: 5ms, render: 6ms)
 POST /api/auth/callback/credentials? 200 in 17ms (compile: 3ms, render: 14ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 93ms (compile: 5ms, proxy.ts: 14ms, render: 74ms)
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 74ms (compile: 5ms, proxy.ts: 21ms, render: 48ms)
 POST /api/trpc/totp.generateTotpSecret,totp.generateTotpSecret?batch=1 400 in 70ms (compile: 36ms, render: 35ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 90ms (compile: 4ms, proxy.ts: 6ms, render: 80ms)
 GET /api/auth/providers 200 in 50ms (compile: 39ms, render: 10ms)
 GET /api/auth/csrf 200 in 10ms (compile: 3ms, render: 7ms)
Throwing INVALID_TOTP
Error [InvalidTotpError]: INVALID_TOTP. Read more at https://errors.authjs.dev#credentialssignin
    at Object.authorize (src/lib/auth.ts:96:30)
  94 |                    if (!isValid) {
  95 |                        console.log("Throwing INVALID_TOTP");
> 96 |                        throw new InvalidTotpError();
     |                              ^
  97 |                    }
  98 |                 }
  99 |                 return { {
  type: 'CredentialsSignin',
  kind: 'signIn',
  code: 'INVALID_TOTP'
}
 POST /api/auth/callback/credentials? 200 in 296ms (compile: 3ms, render: 293ms)
âœ“ Compiled in 64ms
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 634ms (compile: 231ms, proxy.ts: 9ms, render: 394ms)
 GET /api/auth/providers 200 in 255ms (compile: 224ms, render: 31ms)
 GET /api/auth/csrf 200 in 9ms (compile: 3ms, render: 5ms)
Authorize called for 0000000000. TOTP Code: 'undefined' (type: string)
 POST /api/auth/callback/credentials? 200 in 25ms (compile: 5ms, render: 20ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 74ms (compile: 5ms, proxy.ts: 16ms, render: 53ms)
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 52ms (compile: 4ms, proxy.ts: 22ms, render: 26ms)
 GET /api/trpc/admin.getUsers?batch=1&input=%7B%7D 200 in 217ms (compile: 195ms, render: 21ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 176ms (compile: 5ms, proxy.ts: 9ms, render: 162ms)
 GET /api/auth/providers 200 in 64ms (compile: 56ms, render: 8ms)
 GET /api/auth/csrf 200 in 21ms (compile: 4ms, render: 17ms)
Authorize called for 1111111111. TOTP Code: 'undefined' (type: string)
 POST /api/auth/callback/credentials? 200 in 25ms (compile: 5ms, render: 20ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 106ms (compile: 7ms, proxy.ts: 21ms, render: 79ms)
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 92ms (compile: 6ms, proxy.ts: 22ms, render: 64ms)
 POST /api/trpc/totp.generateTotpSecret,totp.generateTotpSecret?batch=1 400 in 60ms (compile: 39ms, render: 21ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 91ms (compile: 6ms, proxy.ts: 10ms, render: 75ms)
 GET /api/auth/providers 200 in 46ms (compile: 38ms, render: 8ms)
 GET /api/auth/csrf 200 in 10ms (compile: 3ms, render: 7ms)
Authorize called for 2222222222. TOTP Code: 'undefined' (type: string)
Throwing TOTP_REQUIRED
Error [TotpRequiredError]: TOTP_REQUIRED. Read more at https://errors.authjs.dev#credentialssignin
    at Object.authorize (src/lib/auth.ts:94:30)
  92 |                    if (!totpCode || totpCode === "undefined" || totpCode === "null" || totpCode.trim() === "") {
  93 |                        console.log("Throwing TOTP_REQUIRED");
> 94 |                        throw new TotpRequiredError();
     |                              ^
  95 |                    }
  96 |                    const isValid = authenticator.check(totpCode, mockUser.totpSecret!);
  97 |                    if (!isValid) { {
  type: 'CredentialsSignin',
  kind: 'signIn',
  code: 'TOTP_REQUIRED'
}
 POST /api/auth/callback/credentials? 200 in 222ms (compile: 3ms, render: 219ms)
 GET /api/auth/providers 200 in 9ms (compile: 4ms, render: 5ms)
 GET /api/auth/csrf 200 in 7ms (compile: 3ms, render: 4ms)
Authorize called for 2222222222. TOTP Code: '221229' (type: string)
 POST /api/auth/callback/credentials? 200 in 14ms (compile: 2ms, render: 11ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true
 GET /dashboard 404 in 69ms (compile: 7ms, proxy.ts: 13ms, render: 49ms)
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true
 GET /dashboard 404 in 110ms (compile: 15ms, proxy.ts: 23ms, render: 72ms)
 GET /dashboard 404 in 110ms (compile: 35ms, proxy.ts: 23ms, render: 51ms)
[Middleware] Path: /profile, LoggedIn: true, Public: false
[Middleware] Path: /profile, LoggedIn: true
 GET /profile 200 in 664ms (compile: 583ms, proxy.ts: 13ms, render: 67ms)
 GET /api/trpc/profile.getProfile?batch=1&input=%7B%7D 404 in 58ms (compile: 40ms, render: 18ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 646ms (compile: 221ms, proxy.ts: 11ms, render: 414ms)
 GET /api/auth/providers 200 in 55ms (compile: 43ms, render: 12ms)
 GET /api/auth/csrf 200 in 9ms (compile: 4ms, render: 6ms)
Authorize called for 0000000000. TOTP Code: 'undefined' (type: undefined)
 POST /api/auth/callback/credentials? 200 in 14ms (compile: 3ms, render: 11ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 44ms (compile: 4ms, proxy.ts: 13ms, render: 27ms)
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true
 GET /admin/users 200 in 85ms (compile: 11ms, proxy.ts: 15ms, render: 59ms)
 GET /api/trpc/admin.getUsers?batch=1&input=%7B%7D 404 in 100ms (compile: 54ms, render: 46ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 185ms (compile: 5ms, proxy.ts: 7ms, render: 174ms)
 GET /api/auth/providers 200 in 56ms (compile: 49ms, render: 7ms)
 GET /api/auth/csrf 200 in 14ms (compile: 8ms, render: 7ms)
Authorize called for 1111111111. TOTP Code: 'undefined' (type: undefined)
 POST /api/auth/callback/credentials? 200 in 20ms (compile: 4ms, render: 16ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 58ms (compile: 5ms, proxy.ts: 16ms, render: 37ms)
[Middleware] Path: /setup-2fa, LoggedIn: true, Public: false
[Middleware] Path: /setup-2fa, LoggedIn: true
 GET /setup-2fa 200 in 71ms (compile: 17ms, proxy.ts: 19ms, render: 36ms)
 POST /api/trpc/totp.generateTotpSecret,totp.generateTotpSecret?batch=1 400 in 64ms (compile: 43ms, render: 21ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
[Middleware] Path: /login, LoggedIn: false
 GET /login 200 in 169ms (compile: 4ms, proxy.ts: 7ms, render: 158ms)
 GET /api/auth/providers 200 in 52ms (compile: 45ms, render: 7ms)
 GET /api/auth/csrf 200 in 9ms (compile: 3ms, render: 5ms)
Authorize called for 2222222222. TOTP Code: 'undefined' (type: undefined)
Throwing TOTP_REQUIRED
Error [TotpRequiredError]: TOTP_REQUIRED. Read more at https://errors.authjs.dev#credentialssignin
    at Object.authorize (src/lib/auth.ts:94:30)
  92 |                    if (!totpCode || totpCode === "undefined" || totpCode === "null" || totpCode.trim() === "") {
  93 |                        console.log("Throwing TOTP_REQUIRED");
> 94 |                        throw new TotpRequiredError();
     |                              ^
  95 |                    }
  96 |                    const isValid = authenticator.check(totpCode, mockUser.totpSecret!);
  97 |                    if (!isValid) { {
  type: 'CredentialsSignin',
  kind: 'signIn',
  code: 'TOTP_REQUIRED'
}
 POST /api/auth/callback/credentials? 200 in 165ms (compile: 3ms, render: 162ms)
 GET /api/auth/providers 200 in 8ms (compile: 3ms, render: 5ms)
 GET /api/auth/csrf 200 in 8ms (compile: 2ms, render: 5ms)
Authorize called for 2222222222. TOTP Code: '959126' (type: string)
 POST /api/auth/callback/credentials? 200 in 13ms (compile: 3ms, render: 10ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true
 GET /dashboard 404 in 48ms (compile: 7ms, proxy.ts: 11ms, render: 30ms)
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true
[Middleware] Path: /dashboard, LoggedIn: true, Public: false
[Middleware] Path: /dashboard, LoggedIn: true
 GET /dashboard 404 in 120ms (compile: 14ms, proxy.ts: 31ms, render: 74ms)
 GET /dashboard 404 in 128ms (compile: 38ms, proxy.ts: 31ms, render: 58ms)
[Middleware] Path: /profile, LoggedIn: true, Public: false
[Middleware] Path: /profile, LoggedIn: true
 GET /profile 200 in 76ms (compile: 4ms, proxy.ts: 19ms, render: 53ms)
 GET /api/trpc/profile.getProfile?batch=1&input=%7B%7D 404 in 61ms (compile: 39ms, render: 22ms)
âœ“ Compiled in 51ms
âœ“ Compiled in 48ms
  Reload env: .env
  Reload env: .env.local
[Middleware] Path: /login, LoggedIn: false, Public: true
 GET /login 200 in 4.7s (compile: 915ms, proxy.ts: 1007ms, render: 2.8s)
 GET /api/auth/providers 200 in 2.7s (compile: 2.6s, render: 38ms)
 GET /api/auth/csrf 200 in 18ms (compile: 6ms, render: 12ms)
 POST /api/auth/callback/credentials? 200 in 79ms (compile: 6ms, render: 72ms)
[Middleware] Path: /, LoggedIn: true, Public: false
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
 GET /admin/users 200 in 1067ms (compile: 782ms, proxy.ts: 19ms, render: 266ms)
[Middleware] Path: /admin/users, LoggedIn: true, Public: false
 GET /admin/users 200 in 81ms (compile: 6ms, proxy.ts: 30ms, render: 45ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
 GET /login 200 in 360ms (compile: 11ms, proxy.ts: 23ms, render: 326ms)
â¨¯ ./src/server/routers/admin.ts:1:1
Export protectedProcedure doesn't exist in target module
[0m[31m[1m>[22m[39m[90m 1 |[39m [36mimport[39m { router[33m,[39m protectedProcedure } [36mfrom[39m [32m"../trpc"[39m[33m;[39m
 [90m   |[39m [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m
 [90m 2 |[39m [36mimport[39m { z } [36mfrom[39m [32m"zod"[39m[33m;[39m
 [90m 3 |[39m [36mimport[39m { db } [36mfrom[39m [32m"@/lib/db"[39m[33m;[39m
 [90m 4 |[39m [36mimport[39m { users } [36mfrom[39m [32m"@/lib/db/schema"[39m[33m;[39m[0m

The export protectedProcedure was not found in module [project]/src/server/trpc.ts [app-route] (ecmascript).
Did you mean to import router?
All exports of the module are statically known (It doesn't have dynamic exports). So it's known statically that the requested export doesn't exist.

Import trace:
  App Route:
    ./src/server/routers/admin.ts
    ./src/server/index.ts
    ./src/app/api/trpc/[trpc]/route.ts


â—‹ Compiling /_error ...
[Middleware] Path: /login, LoggedIn: false, Public: true
 GET /login 200 in 149ms (compile: 8ms, proxy.ts: 14ms, render: 126ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
 GET /login 200 in 95ms (compile: 8ms, proxy.ts: 7ms, render: 80ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
 GET /login 200 in 142ms (compile: 5ms, proxy.ts: 7ms, render: 130ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
 GET /login 200 in 95ms (compile: 4ms, proxy.ts: 7ms, render: 84ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
 GET /login 200 in 993ms (compile: 95ms, proxy.ts: 298ms, render: 600ms)
[Middleware] Path: /login, LoggedIn: false, Public: true
 GET /login 200 in 860ms (compile: 73ms, proxy.ts: 214ms, render: 573ms)
âœ“ Compiled in 3.3s
[Middleware] Path: /login, LoggedIn: false, Public: true
 GET /login 200 in 7.7s (compile: 2.2s, proxy.ts: 198ms, render: 5.3s)
 GET /api/auth/session 200 in 624ms (compile: 579ms, render: 45ms)
 GET /api/auth/session 200 in 22ms (compile: 9ms, render: 13ms)
âœ“ Compiled in 550ms
[Middleware] Path: /login, LoggedIn: false, Public: true
 GET /login 200 in 2.7s (compile: 758ms, proxy.ts: 53ms, render: 1906ms)
 GET /api/auth/session 200 in 915ms (compile: 861ms, render: 54ms)
 GET /api/auth/session 200 in 12ms (compile: 5ms, render: 8ms)
âœ“ Compiled in 1664ms
 GET /login 200 in 4.4s (compile: 2.4s, proxy.ts: 732ms, render: 1283ms)
 GET /api/auth/session 200 in 4.0s (compile: 3.9s, render: 84ms)
 GET /api/auth/session 200 in 28ms (compile: 14ms, render: 14ms)
