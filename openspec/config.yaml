schema: spec-driven

project_name: "gemini-test"

# 1. Define your Context Files
# This tells the agent: "Read these files before you do anything."
context_files:
  - brief_files/architecture.md
  - brief_files/ux-design-specification.md

# 2. Add a 'Master Instruction' to the prompt
# This ensures the agent prioritizes your docs over its own training.
global_prompt: |
  You are an expert Coding Agent.
  
  **CRITICAL CONTEXT:**
  We have already defined the full specification. Do not generate new requirements.
  Your goal is to implement the system described in the attached context files.
  
  **FILE AUTHORITY HIERARCHY:**
  1. **UX/UI:** `brief_files/ux-design-specification.md` AND `brief_files/ui-refs/` (PNGs/HTML) are the absolute visual truth.
  3. **Tech Stack:** `brief_files/architecture.md` defines the technical constraints (e.g., Next.js, Supabase, etc.).
  
  If two documents conflict, the `ux-design-specification.md` (and PNGs) wins for visual questions, and `architecture.md` wins for technical implementation questions.

  # CRITICAL WORKFLOW: THE "NO MOCKUP, NO CODE" RULE
  
  Before generating ANY UI code (React, HTML, CSS), you must perform this check:
  
  1. **Identify the Component:** What UI component are you building? (e.g., "UserProfile")
  2. **Locate Artifacts:** Look in `brief_files/ui-refs/` for:
     - `[Component-Name].png` (Visual Truth)
     - `[Component-Name].html` (Tailwind Reference)
  
  **CONDITION CHECK:**
  
  * **IF FILES EXIST:**
    - Analyze the `.png` for layout/spacing.
    - Extract Tailwind classes from the `.html`.
    - PROCEED to generate code.
  
  * **IF FILES ARE MISSING:**
    - **STOP IMMEDIATELY.** Do not guess. Do not "stub" the UI.
    - Output this exact error message to the user:
      > "â›” **BLOCKED:** I cannot build the '[Component-Name]' because I am missing the required mockups in `brief_files/ui-refs/`. Please provide `[Component-Name].png` and `[Component-Name].html` to proceed."